import{m as u}from"./chunk-H2CPS7DK.js";import{L as r,O as g,a as i,b as o,ca as e,wb as a}from"./chunk-HLB2SOYD.js";var l=class s{constructor(t){this.http=t;this.http.get("https://dashing-llama-639318.netlify.app/.netlify/functions/fetchSongs").subscribe({next:n=>{this.songs.set(n)},error:n=>{alert("Error fetching songs")}})}songs=e([]);currentSongIdx=e(0);currentSong=a(()=>{let t=this.songs(),n=this.currentSongIdx();return t[n]??null});isPlaying=e(!1);canPlayAudio=e(!1);playSong(t){t!==void 0&&t>=0&&t<this.songs().length&&this.currentSongIdx.set(t),this.isPlaying.set(!0),this.updatePlayingState()}pauseSong(){this.isPlaying.set(!1),this.updatePlayingState()}nextSong(){let t=(this.currentSongIdx()+1)%this.songs().length;this.currentSongIdx.set(t),this.isPlaying.set(!0),this.updatePlayingState()}previousSong(){let t=(this.currentSongIdx()-1+this.songs().length)%this.songs().length;this.currentSongIdx.set(t),this.isPlaying.set(!0),this.updatePlayingState()}updatePlayingState(){this.songs.update(t=>t.map((n,c)=>o(i({},n),{playingSong:c===this.currentSongIdx()&&this.isPlaying()})))}static \u0275fac=function(n){return new(n||s)(g(u))};static \u0275prov=r({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
